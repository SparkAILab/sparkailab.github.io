<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      SPARK Lab – Structured, Probabilistic, And Relational Knowledge AI Lab
    </title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">
        <a class="navbar-brand fw-bold d-flex align-items-center" href="#">
            <img src="spark.jpeg" alt="SPARK AI LAB Logo" height="60" class="me-2"/>
            
            <span class="d-flex flex-column spark-text">
                <span class="spark-title">SPARK AI LAB</span>
                <span class="spark-tagline">Structured, Probabilistic, And Relational Knowledge</span>
            </span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#people">People</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#publications">Publications</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#projects">Projects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="seminars.html">Seminars</a>
            </li>
          </ul>
        </div>
    </div>
</nav>

    <!-- About -->
    <section id="about" class="py-5">
      <div class="container text-center">
        <h2 class="fw-bold">Advancing Causal Machine Learning</h2>
        <p class="lead mt-3">
          At SPARK Lab, we explore structured, probabilistic, and relational
          approaches to AI, aiming to push the boundaries of causal inference,
          uncertainty quantification, and relational knowledge representation.
          We are based at the Department of Informatics, King's College London,
          and led by Dr. David Watson.
        </p>
      </div>
    </section>

    <!-- Research -->
    <section id="research" class="py-5 bg-light">
      <div class="container">
        <h2 class="text-center fw-bold mb-4">Research Areas</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <h5 class="card-title">Causal Inference</h5>
                <p class="card-text">
                  New algorithms for discovering and leveraging causal structure
                  from complex data.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <h5 class="card-title">Probabilistic Models</h5>
                <p class="card-text">
                  Bayesian networks, probabilistic programming, and
                  uncertainty-aware learning.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <h5 class="card-title">Relational Learning</h5>
                <p class="card-text">
                  Learning over graphs, structured data, and relational
                  knowledge bases.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- People -->
    <section id="people" class="py-5">
      <div class="container">
          <h2 class="text-center fw-bold mb-4">Our Team</h2>
          <div class="row g-4 justify-content-center" id="people-container">
              </div>
      </div>
    </section>

    <!-- Publications -->
    <section id="publications" class="py-5 bg-light">
      <div class="container">
          <h2 class="text-center fw-bold mb-4">Publications</h2>
          <div class="text-center mb-3" id="pub-filter">
              <button class="btn btn-outline-primary active" data-filter="all">All</button>
              <button class="btn btn-outline-primary" data-filter="2025">2025</button>
              <button class="btn btn-outline-primary" data-filter="2024">2024</button>
              </div>
          <ul class="list-group" id="publication-list">
              </ul>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="py-5">
      <div class="container">
        <h2 class="text-center fw-bold mb-4">Projects</h2>
        <div class="row g-4">
          <div class="col-md-6">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <h5 class="card-title">Project Alpha</h5>
                <p class="card-text">
                  Causal inference methods applied to healthcare and policy
                  design.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <h5 class="card-title">Project Beta</h5>
                <p class="card-text">
                  Probabilistic programming frameworks for graph-structured
                  learning.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="py-5 bg-light">
      <div class="container text-center">
        <h2 class="fw-bold mb-4">Contact Us</h2>
        <p>
          SPARK Lab, Department of Informatics, King's College London.<br />
          Email:
          <a href="mailto:sparklab@university.edu">sparklab@kcl.ac.uk</a>
        </p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3">
      <p class="mb-1">&copy; 2025 SPARK Lab</p>
      <p>
        Follow us on
        <a href="#" class="text-decoration-none text-secondary">GitHub</a> |
        <a href="#" class="text-decoration-none text-secondary">Twitter</a> |
        <a href="#" class="text-decoration-none text-secondary">LinkedIn</a>
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script>
    // REPLACE THESE WITH YOUR PUBLISHED CSV URLS FROM GOOGLE SHEETS
    const PEOPLE_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSjKHj0NpPWJeFmDAvVQX3czceXEc9lLX0VEhUOyzmGbGCtsxxX32k9f95UKr1fHZx6IJzRfMPzMQJv/pub?gid=0&single=true&output=csv';
    const PUBLICATIONS_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSjKHj0NpPWJeFmDAvVQX3czceXEc9lLX0VEhUOyzmGbGCtsxxX32k9f95UKr1fHZx6IJzRfMPzMQJv/pub?gid=1655344640&single=true&output=csv';

    // --- UTILITY FUNCTION TO FETCH AND PARSE CSV ---
    async function fetchCSV(url) {
        try {
            const response = await fetch(url);
            const csvText = await response.text();
            // PapaParse handles parsing, 'header: true' turns rows into objects with column names as keys
            return Papa.parse(csvText, { header: true, skipEmptyLines: true }).data;
        } catch (error) {
            console.error("Error fetching data from sheet:", url, error);
            return []; // Return empty array on failure
        }
    }

    // --- PEOPLE RENDERING ---
    async function renderPeople() {
        const people = await fetchCSV(PEOPLE_CSV_URL);
        const container = document.getElementById('people-container');
        container.innerHTML = ''; 

        // Renders in sheet order
        people.forEach(person => {
            // Check if essential data exists (Name and Title are required)
            // Assuming your column for the website is named 'Website'
            if (person.Name && person.Title) {
                const col = document.createElement('div');
                col.className = 'col-md-4 text-center'; 

                col.innerHTML = `
                    <div class="card h-100 shadow-sm">
                        <img src="${person.Image_URL || 'https://via.placeholder.com/150'}"
                             class="card-img-top rounded-circle w-50 mx-auto mt-3"
                             alt="${person.Name}" />
                        <div class="card-body">
                            <h5 class="card-title">${person.Name}</h5>
                            <p class="card-text">${person.Title}</p>
                            ${person.Website ? `<a href="${person.Website}" class="btn btn-sm btn-outline-secondary mt-2" target="_blank">Website</a>` : ''}
                        </div>
                    </div>
                `;
                container.appendChild(col);
            }
        });
    }

    // --- PUBLICATIONS RENDERING AND FILTERING ---
    async function renderPublications() {
        const publications = await fetchCSV(PUBLICATIONS_CSV_URL);
        const container = document.getElementById('publication-list');
        container.innerHTML = ''; 

        // Renders in sheet order
        publications.forEach(pub => {
            if (pub.Title && pub.Year) {
                const li = document.createElement('li');
                li.className = 'list-group-item pub-item';
                li.dataset.year = pub.Year;
                
                li.innerHTML = `
                    ${pub.Year}. ${pub.Authors}. “${pub.Title}” 
                    <em>${pub.Journal_Conf}</em>.
                    ${pub.PDF_URL ? `<a href="${pub.PDF_URL}" target="_blank">PDF</a>` : ''}
                `;
                container.appendChild(li);
            }
        });

        // Re-attach the filtering logic after publications are loaded
        attachPublicationFilters();
    }

    function attachPublicationFilters() {
        const filterButtons = document.querySelectorAll("#pub-filter button");
        const pubItems = document.querySelectorAll(".pub-item");
        
        filterButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            filterButtons.forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            const filter = btn.getAttribute("data-filter");
            
            pubItems.forEach((item) => {
              item.style.display =
                filter === "all" || item.dataset.year === filter ? "" : "none";
            });
          });
        });
    }


    // --- INITIALIZATION ---
    document.addEventListener("DOMContentLoaded", () => {
        // Load data on page load
        renderPeople();
        renderPublications();
    });
</script> 
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const filterButtons = document.querySelectorAll("#pub-filter button");
        const pubItems = document.querySelectorAll(".pub-item");

        filterButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            filterButtons.forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            const filter = btn.getAttribute("data-filter");
            pubItems.forEach((item) => {
              item.style.display =
                filter === "all" || item.dataset.year === filter ? "" : "none";
            });
          });
        });
      });
    </script>
  </body>
</html>
